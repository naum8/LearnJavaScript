<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Modal default</title>
    <link href="https://fonts.googleapis.com/css?family=Exo+2" rel="stylesheet">
    <link rel="stylesheet" href="style.css">

</head>
<body>

    <div class="container">
        <h1>Создание простейшего модального окошка!</h1>

        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nam fuga sunt voluptas, ullam, sed consequuntur ab illo veniam ad totam alias voluptatibus sequi officiis, unde autem reiciendis magnam labore voluptatum?</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nam fuga sunt voluptas, ullam, sed consequuntur ab illo veniam ad totam alias voluptatibus sequi officiis, unde autem reiciendis magnam labore voluptatum?</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nam fuga sunt voluptas, ullam, sed consequuntur ab illo veniam ad totam alias voluptatibus sequi officiis, unde autem reiciendis magnam labore voluptatum?</p>
        <p class="btn"><a href="#" id="modal-open" class="modal-open" title="Покажите мне модальное окошко">Открыть окно</a></p>
    </div>

    <div class="modal-overlay modal_closed" id="modal-overlay"></div>
    <div class="modal modal_closed" id="modal">
        <header class="modal__header">
            <a href="#" class="modal__close" id="modal-close" title="Закрыть модальное окно">Закрыть</a>
            <h2>Введите данные</h2>
        </header>

        <main class="modal__content">
            <div class="form-field">
                <label for="name">Ваше имя:</label>
                <input class="input__default" type="text" id="name" name="name">
            </div>
            <div class="form-field">
                <label>Ваш день рождения:</label>
                <input type="text" class="input__date-birth" id="birth-day" name="name" placeholder="День"> -
                <input type="text" class="input__date-birth" id="birth-month" name="name" placeholder="Месяц"> -
                <input type="text" class="input__date-birth" id="birth-year" name="name" placeholder="Год">
            </div>
        </main>

        <footer class="modal__footer">
            <button id="modal-cancel" class="modal__cancel" title="Отмена">Отмена</button>
            <button id="modal-save" class="modal__save" title="Сохранить">Сохранить данные</button>
        </footer>
    </div>
<script>
    const btn = document.getElementById('modal-open');
    const modOverlay = document.getElementById('modal-overlay');
    const modCloses = document.getElementById('modal');

    const name = document.getElementById('name');
    const birthDay = document.getElementById('birth-day');
    const birthMonth = document.getElementById('birth-month');
    const birthYear = document.getElementById('birth-year');

    const btnSave = document.getElementById('modal-save');
    const modalCancel = document.getElementById('modal-cancel');
    const modalClosed = document.getElementById('modal-close');

    btn.addEventListener('click', modOpenFun);
    modalCancel.addEventListener('click', modCloseFun); 
    modalClosed.addEventListener('click', modCloseFun); 
    btnSave.addEventListener('click', saveData);

    function modOpenFun() {
        modOverlay.classList.remove('modal_closed');
        modCloses.classList.remove('modal_closed');
    }
    function modCloseFun() {
        modOverlay.classList.add('modal_closed');
        modCloses.classList.add('modal_closed');
        Clean()
    }

    function saveData(event) {
        event.preventDefault();
        if(typeof localStorage !== 'undefined') {
            let userData = {
                name: name.value,
                birthDay: birthDay.value,
                birthMonth: birthMonth.value,
                birthYear: birthYear.value
            }
            localStorage.setItem('userData', JSON.stringify(userData));
        }   else {
            console.log('localStorage is not defined');
        }
        modCloseFun()
        Clean()
    }
    function Clean() {
        name.value = '';
        birthDay.value = '';
        birthMonth.value = '';
        birthYear.value = '';
    }


</script>
</body>
</html>